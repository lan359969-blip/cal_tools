
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>一期助凝剂（益维净）配药系统</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial,Helvetica,sans-serif;background:#f5f7fa;margin:0;padding:20px}
h1{font-size:22px}
.box{background:#fff;padding:16px;margin-bottom:16px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
label{display:block;margin-top:10px}
input{width:100%;padding:10px;font-size:18px;margin-top:4px}
button{margin-top:16px;width:100%;padding:12px;font-size:18px;background:#1677ff;color:#fff;border:none;border-radius:6px}
.result{margin-top:12px;font-size:16px;line-height:1.7}
.warn{color:#d4380d;font-weight:bold}
.ok{color:#389e0d;font-weight:bold}
</style>
</head>
<body>

<h1>一期助凝剂（益维净）配药计算系统</h1>

<div class="box">
  <label>计量桶液位高度 H（m）</label>
  <input id="h" type="number" step="0.01" placeholder="0 ~ 2.0">

  <label>目标配置浓度（%）</label>
  <input id="c" type="number" step="0.1" placeholder="2 ~ 10">

  <button onclick="calc()">计算</button>
</div>

<div class="box result" id="out"></div>

<script>
function calc(){
  const H = parseFloat(document.getElementById('h').value);
  const C = parseFloat(document.getElementById('c').value)/100;

  if(isNaN(H)||isNaN(C)||H<=0||C<=0){
    out.innerHTML='<span class="warn">请输入有效参数</span>';
    return;
  }

  if(H>2.0){
    out.innerHTML='<span class="warn">计量桶液位超过 2.0 m</span>';
    return;
  }

  const r = 0.66;
  const rho = 1.38;
  const A_sol = 6.8 * 4.0;
  const H_sol_max = 3.0;

  const V_raw = Math.PI * r * r * H;
  const M_raw = V_raw * rho * 1000;

  const V_need = M_raw / C;
  const V_water = V_need - V_raw;
  const H_water = V_water / A_sol;
  const H_final = V_need / A_sol;

  let html = "";
  html += "计量桶原液体积：" + V_raw.toFixed(2) + " m³<br>";
  html += "计量桶原液质量：" + M_raw.toFixed(2) + " kg<br>";
  html += "目标所需总体积：" + V_need.toFixed(2) + " m³<br>";
  html += "溶液池需补水体积：" + V_water.toFixed(2) + " m³<br>";
  html += "折算补水高度：" + H_water.toFixed(2) + " m<br>";

  if(H_final > H_sol_max){
    html += "<span class='warn'>⚠ 溶液池最终液位 " + H_final.toFixed(2) + " m ＞ 3.0 m，发生溢流</span>";
  }else{
    html += "<span class='ok'>溶液池最终液位：" + H_final.toFixed(2) + " m（安全）</span>";
  }

  out.innerHTML = html;
}
</script>

</body>
</html>
