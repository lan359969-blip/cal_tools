
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>一期混凝剂配药系统</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial,Helvetica,sans-serif;background:#f5f7fa;margin:0;padding:20px}
h1{font-size:22px}
.box{background:#fff;padding:16px;margin-bottom:16px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
label{display:block;margin-top:10px}
input{width:100%;padding:10px;font-size:18px;margin-top:4px}
button{margin-top:16px;width:100%;padding:12px;font-size:18px;background:#1677ff;color:#fff;border:none;border-radius:6px}
.result{margin-top:12px;font-size:16px;line-height:1.6}
.warn{color:#d4380d;font-weight:bold}
.ok{color:#389e0d;font-weight:bold}
</style>
</head>
<body>

<h1>一期混凝剂配药计算</h1>

<div class="box">
  <label>固体药剂投加量（吨）</label>
  <input id="m" type="number" step="0.01">

  <label>目标配置浓度（%）</label>
  <input id="c" type="number" step="0.01">

  <button onclick="calc()">计算</button>
</div>

<div class="box result" id="out"></div>

<script>
function calc(){
  const M = parseFloat(document.getElementById('m').value);
  const C = parseFloat(document.getElementById('c').value)/100;

  if(isNaN(M)||isNaN(C)||C<=0){
    out.innerHTML='<span class="warn">请输入有效数值</span>';
    return;
  }

  const V_need = M / C;
  const V_diss_max = 20;
  const A_diss = 8;
  const A_sol = 37.21;

  let html = "";

  if(V_need <= V_diss_max){
    const H = V_need / A_diss;
    html += "<div class='ok'>工况一：仅使用溶解池即可满足目标浓度</div>";
    html += "所需总体积：" + V_need.toFixed(2) + " m³<br>";
    html += "溶解池液位高度：" + H.toFixed(2) + " m（≤2.5 m）<br>";
    html += "无需启用溶液池补水";
  }else{
    const V_add = V_need - V_diss_max;
    const H_add = V_add / A_sol;
    const H_final = V_need / A_sol;

    html += "<div class='warn'>工况二：溶解池加满仍超浓，需要溶液池补水</div>";
    html += "溶解池体积：20.00 m³（液位 2.5 m）<br>";
    html += "最终所需总体积：" + V_need.toFixed(2) + " m³<br>";
    html += "溶液池需补水体积：" + V_add.toFixed(2) + " m³<br>";
    html += "折算补水高度：" + H_add.toFixed(2) + " m<br>";

    if(H_final > 3.2){
      html += "<span class='warn'>⚠ 溶液池最终液位 " + H_final.toFixed(2) + " m ＞ 3.2 m，发生溢流</span>";
    }else{
      html += "<span class='ok'>溶液池最终液位：" + H_final.toFixed(2) + " m（安全）</span>";
    }
  }

  out.innerHTML = html;
}
</script>

</body>
</html>
